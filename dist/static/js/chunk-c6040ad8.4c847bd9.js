(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6040ad8"],{6511:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-card",[n("v-card-title",[t._v("初始化")]),n("v-card-text",[t._v("正在加载...")])],1)],1)},a=[],c=(n("96cf"),n("1da1")),o=n("a841"),i={name:"home",mounted:function(){this.pageload()},methods:{pageload:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].checkToken(this.$store);case 2:this.$router.push("/me");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},u=i,s=n("2877"),l=n("6544"),f=n.n(l),h=n("b0af"),p=n("99d9"),d=n("a523"),m=Object(s["a"])(u,r,a,!1,null,null,null);e["default"]=m.exports;f()(m,{VCard:h["a"],VCardText:p["b"],VCardTitle:p["c"],VContainer:d["a"]})},a841:function(t,e,n){"use strict";n("d3b7"),n("96cf");var r=n("1da1"),a=n("bc3a"),c=n.n(a);e["a"]={checkToken:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("/user/info").then((function(t){"SUCCESS"!=t["data"]["type"]&&c.a.post("/user/logout").finally((function(){e.$store.commit("draweritems",[{title:"登录",to:"/login",icon:"mdi-account-circle"},{title:"反馈错误",to:"/report",icon:"mdi-alert"}]),e.$store.commit("token",void 0),e.$store.commit("login",!1),e.$store.commit("loading",!1),e.$store.commit("lastSeenVol",[]),e.$router.push("/login").catch((function(){}))}))}));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),fetchClassList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("/class/list").then((function(t){e(t.data.class)})).catch((function(t){console.error(t)}));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),fetchStudentList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("/class/stulist/"+e).then((function(t){var e=t.data.student;if(e)for(var r=0;r<e.length;r++){var a=24,c=20,o=16;e[r]["id"]>2021e4&&(a=30,c=16,o=18);var i=e[r]["inside"]/60,u=e[r]["outside"]/60,s=e[r]["large"]/60,l=!0;u<c&&(i-=2*(c-u),u=c),(s<o||i<a||u<c||i+u<a+c)&&(l=!1),e[r].finished=l?"是":"否"}n(e)})).catch((function(t){console.error(t)}));case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchClassVolunter:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e?"/class/volunteer/"+e:"/volunteer/list/",t.next=3,c.a.get(r).then((function(t){n(t.data.volunteer)})).catch((function(t){console.error(t)}));case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),fetchAllVolunter:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("/volunteer/list").then((function(t){e(t.data.volunteer)})).catch((function(t){console.error(t)}));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}}}]);